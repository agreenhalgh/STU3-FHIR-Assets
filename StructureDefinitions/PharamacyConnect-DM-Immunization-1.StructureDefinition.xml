<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <url value="http://eps.digital.nhs.uk/fhir/StructureDefinition/PharamacyConnect-DM-Immunization-1" />
  <name value="PharamacyConnect-DM-Immunization-1" />
  <status value="draft" />
  <fhirVersion value="3.0.1" />
  <kind value="resource" />
  <abstract value="false" />
  <type value="Immunization" />
  <baseDefinition value="https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-ITK-DM-Immunization-1" />
  <derivation value="constraint" />
  <differential>
    <element id="Immunization.extension:parentPresent">
      <path value="Immunization.extension" />
      <sliceName value="parentPresent" />
      <max value="0" />
    </element>
    <element id="Immunization.extension:recordedDate">
      <path value="Immunization.extension" />
      <sliceName value="recordedDate" />
      <max value="0" />
    </element>
    <element id="Immunization.extension:vaccinationProcedure">
      <path value="Immunization.extension" />
      <sliceName value="vaccinationProcedure" />
    </element>
    <element id="Immunization.extension:vaccinationProcedure.value[x]">
      <path value="Immunization.extension.value[x]" />
      <max value="0" />
    </element>
    <element id="Immunization.identifier.period">
      <path value="Immunization.identifier.period" />
      <max value="0" />
    </element>
    <element id="Immunization.identifier.period.start">
      <path value="Immunization.identifier.period.start" />
      <min value="1" />
    </element>
    <element id="Immunization.identifier.period.end">
      <path value="Immunization.identifier.period.end" />
      <min value="1" />
    </element>
    <element id="Immunization.identifier.assigner">
      <path value="Immunization.identifier.assigner" />
      <max value="0" />
    </element>
    <element id="Immunization.status">
      <path value="Immunization.status" />
      <short value="Indicates that the vaccination has been completed" />
      <definition value="Indicates that the vaccination has been completed" />
      <fixedCode value="completed" />
    </element>
    <element id="Immunization.notGiven">
      <path value="Immunization.notGiven" />
      <short value="Flag indicating that the vaccine was given" />
      <definition value="Flag indicating that the vaccine was given" />
      <type>
        <code value="boolean" />
        <profile value="false" />
      </type>
    </element>
    <element id="Immunization.vaccineCode">
      <path value="Immunization.vaccineCode" />
      <definition value="Vaccine that was administered" />
    </element>
    <element id="Immunization.vaccineCode.coding">
      <path value="Immunization.vaccineCode.coding" />
      <min value="1" />
      <max value="1" />
    </element>
    <element id="Immunization.vaccineCode.coding.system">
      <path value="Immunization.vaccineCode.coding.system" />
      <min value="1" />
      <type>
        <code value="uri" />
        <profile value="http://snomed.info/sct" />
      </type>
      <fixedUri value="http://snomed.info/sct" />
    </element>
    <element id="Immunization.vaccineCode.coding.version">
      <path value="Immunization.vaccineCode.coding.version" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccineCode.coding.code">
      <path value="Immunization.vaccineCode.coding.code" />
      <min value="1" />
      <binding>
        <strength value="extensible" />
        <description value="Type of flu vaccine" />
        <valueSetReference>
          <reference value="http://eps.digital.nhs.uk/fhir/ValueSets/PharmacyConnect-DM-FluImmunisationMedications" />
        </valueSetReference>
      </binding>
    </element>
    <element id="Immunization.vaccineCode.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Immunization.vaccineCode.coding.display" />
      <min value="1" />
    </element>
    <element id="Immunization.vaccineCode.coding.userSelected">
      <path value="Immunization.vaccineCode.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccineCode.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Immunization.vaccineCode.text" />
      <max value="0" />
    </element>
    <element id="Immunization.patient">
      <path value="Immunization.patient" />
      <short value="The patient who was immunized" />
      <definition value="The patient who received the immunization." />
    </element>
    <element id="Immunization.patient.reference">
      <path value="Immunization.patient.reference" />
      <min value="1" />
    </element>
    <element id="Immunization.patient.identifier">
      <path value="Immunization.patient.identifier" />
      <max value="0" />
    </element>
    <element id="Immunization.patient.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Immunization.patient.display" />
      <max value="0" />
    </element>
    <element id="Immunization.encounter">
      <path value="Immunization.encounter" />
      <max value="0" />
    </element>
    <element id="Immunization.encounter.identifier">
      <path value="Immunization.encounter.identifier" />
      <max value="0" />
    </element>
    <element id="Immunization.encounter.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Immunization.encounter.display" />
      <max value="0" />
    </element>
    <element id="Immunization.date">
      <path value="Immunization.date" />
      <max value="0" />
    </element>
    <element id="Immunization.primarySource">
      <path value="Immunization.primarySource" />
      <short value="Data are based on informtion from administering practitioner" />
      <definition value="An indication that the content of the record is based on information from the person who administered the vaccine. " />
      <type>
        <code value="boolean" />
        <profile value="true" />
      </type>
      <fixedBoolean value="true" />
    </element>
    <element id="Immunization.reportOrigin">
      <path value="Immunization.reportOrigin" />
      <max value="0" />
    </element>
    <element id="Immunization.location">
      <path value="Immunization.location" />
      <max value="0" />
    </element>
    <element id="Immunization.manufacturer">
      <path value="Immunization.manufacturer" />
      <max value="0" />
    </element>
    <element id="Immunization.lotNumber">
      <path value="Immunization.lotNumber" />
      <max value="0" />
    </element>
    <element id="Immunization.expirationDate">
      <path value="Immunization.expirationDate" />
      <max value="0" />
    </element>
    <element id="Immunization.site">
      <path value="Immunization.site" />
      <max value="0" />
    </element>
    <element id="Immunization.route">
      <path value="Immunization.route" />
      <max value="0" />
    </element>
    <element id="Immunization.doseQuantity">
      <path value="Immunization.doseQuantity" />
      <min value="1" />
    </element>
    <element id="Immunization.doseQuantity.value">
      <path value="Immunization.doseQuantity.value" />
      <min value="1" />
      <fixedDecimal value="0.5" />
    </element>
    <element id="Immunization.doseQuantity.unit">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Immunization.doseQuantity.unit" />
      <min value="1" />
      <fixedString value="ml" />
    </element>
    <element id="Immunization.doseQuantity.system">
      <path value="Immunization.doseQuantity.system" />
      <short value="UCUM" />
      <definition value="The Unified Code for Units of Measure" />
      <min value="1" />
      <fixedUri value="http://unitsofmeasure.org" />
    </element>
    <element id="Immunization.doseQuantity.code">
      <path value="Immunization.doseQuantity.code" />
      <max value="0" />
    </element>
    <element id="Immunization.practitioner">
      <path value="Immunization.practitioner" />
      <max value="0" />
    </element>
    <element id="Immunization.note">
      <path value="Immunization.note" />
      <max value="0" />
    </element>
    <element id="Immunization.explanation">
      <path value="Immunization.explanation" />
      <min value="1" />
    </element>
    <element id="Immunization.explanation.reason.coding.system">
      <path value="Immunization.explanation.reason.coding.system" />
      <min value="1" />
      <type>
        <code value="uri" />
        <profile value="http://eps.digital.nhs.uk/fhir/ValueSet/PharmacyConnect-DM-FluEligiblePatientGroup" />
      </type>
      <binding>
        <strength value="required" />
        <description value="Eligible Patient Groups" />
        <valueSetUri value="http://eps.digital.nhs.uk/fhir/ValueSet/PharmacyConnect-DM-FluEligiblePatientGroup" />
      </binding>
    </element>
    <element id="Immunization.explanation.reason.coding.version">
      <path value="Immunization.explanation.reason.coding.version" />
      <max value="0" />
    </element>
    <element id="Immunization.explanation.reason.coding.code">
      <path value="Immunization.explanation.reason.coding.code" />
      <min value="1" />
    </element>
    <element id="Immunization.explanation.reason.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Immunization.explanation.reason.coding.display" />
      <min value="1" />
    </element>
    <element id="Immunization.explanation.reason.coding.userSelected">
      <path value="Immunization.explanation.reason.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="Immunization.explanation.reason.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Immunization.explanation.reason.text" />
      <max value="0" />
    </element>
    <element id="Immunization.explanation.reasonNotGiven">
      <path value="Immunization.explanation.reasonNotGiven" />
      <max value="0" />
    </element>
    <element id="Immunization.reaction">
      <path value="Immunization.reaction" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccinationProtocol">
      <path value="Immunization.vaccinationProtocol" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccinationProtocol.targetDisease.coding:snomedCT">
      <path value="Immunization.vaccinationProtocol.targetDisease.coding" />
      <sliceName value="snomedCT" />
    </element>
    <element id="Immunization.vaccinationProtocol.targetDisease.coding:snomedCT.extension:snomedCTDescriptionID">
      <path value="Immunization.vaccinationProtocol.targetDisease.coding.extension" />
      <sliceName value="snomedCTDescriptionID" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccinationProtocol.targetDisease.coding:snomedCT.userSelected">
      <path value="Immunization.vaccinationProtocol.targetDisease.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccinationProtocol.targetDisease.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Immunization.vaccinationProtocol.targetDisease.text" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccinationProtocol.doseStatusReason">
      <path value="Immunization.vaccinationProtocol.doseStatusReason" />
      <max value="0" />
    </element>
  </differential>
</StructureDefinition>